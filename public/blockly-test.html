<!DOCTYPE html>
<html>

<head>
  <title>Blockly CDN Test</title>
  <script src="https://unpkg.com/blockly/blockly.min.js"></script>
</head>

<body>
  <h1>Blockly CDN 测试</h1>
  <div id="blocklyDiv" style="height: 480px; width: 600px; border: 1px solid #ccc;"></div>

  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <category name="Math" colour="230">
      <block type="math_number">
        <field name="NUM">123</field>
      </block>
      <block type="math_arithmetic">
        <field name="OP">ADD</field>
      </block>
    </category>
    <category name="Logic" colour="210">
      <block type="logic_boolean"></block>
    </category>
  </xml>

  <script>
    console.log('Blockly CDN test starting...')
    console.log('Blockly version:', Blockly.VERSION)

    try {
      const workspace = Blockly.inject('blocklyDiv', {
        media: 'https://unpkg.com/blockly/media/',
        toolbox: document.getElementById('toolbox')
      })
      console.log('✅ Blockly workspace created:', workspace)
    } catch (error) {
      console.error('❌ Failed to create workspace:', error)
    }
  </script>
</body>

</html>